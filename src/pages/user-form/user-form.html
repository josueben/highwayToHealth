<!--
  Generated template for the UserFormPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-grid>

  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ion-row>
    <ion-col offset-sm-2 col-sm-8 offset-md-2 col-md-8 offset-lg-2 col-lg-8>
      <h4>Crear cuenta</h4>
      <form [formGroup]="createUserForm" (ngSubmit)="onSubmit()">
        <div>
          <ion-list>                
            <ion-item>
              <ion-label floating>Nombre de la cuenta</ion-label>
              <ion-input id="username" formControlName="username" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.username.errors }"></ion-input>
              
              <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                <div *ngIf="f.username.errors.required">*El nombre de la cuenta es requerido</div>
              </div>
            </ion-item>
            
            <ion-item>
              <ion-input id="password" formControlName="password" type="password" class="validate" [ngClass]="{ 'is-invalid': submitted && f.password.errors }"></ion-input>
              <ion-label floating>Contraseña</ion-label>
              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                <div *ngIf="f.password.errors.required">*La contraseña es requerida</div>
                <div *ngIf="f.password.errors.minlength">*La contraseña debe ser por lo menos de 6 caracteres</div>
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="email" formControlName="email" type="email" class="validate" [ngClass]="{ 'is-invalid': submitted && f.email.errors }"></ion-input>
              <ion-label floating>Correo electrónico</ion-label>
              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                <div *ngIf="f.email.errors.required">*El email es requerido</div>          
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="name" formControlName="name" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.name.errors }"></ion-input>
              <ion-label floating>Nombre(s)</ion-label>
              <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                <div *ngIf="f.name.errors.required">*El nombre es requerido</div>
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="lastname" formControlName="lastname" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.lastname.errors }"></ion-input>
              <ion-label floating>Apellidos</ion-label>
              <div *ngIf="submitted && f.lastname.errors" class="invalid-feedback">
                <div *ngIf="f.lastname.errors.required">*Los apellidos son requeridos</div>
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="age" formControlName="age" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.age.errors }"></ion-input>
              <ion-label floating>Edad</ion-label>
              <div *ngIf="submitted && f.age.errors" class="invalid-feedback">
                <div *ngIf="f.age.errors.required">*La edad es requerida</div>
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="weight" formControlName="weight" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.weight.errors }"></ion-input>
              <ion-label floating>Peso (kg)</ion-label>
              <div *ngIf="submitted && f.weight.errors" class="invalid-feedback">
                <div *ngIf="f.weight.errors.required">*El peso es requerido</div>
                <div *ngIf="f.weight.errors.minlength">*El peso debe ser por lo menos de 2 caracteres</div>
              </div>
            </ion-item>

            <ion-item>
              <ion-input id="height" formControlName="height" type="text" class="validate" [ngClass]="{ 'is-invalid': submitted && f.height.errors }"></ion-input>
              <ion-label floating>Altura (cm)</ion-label>
              <div *ngIf="submitted && f.height.errors" class="invalid-feedback">
                <div *ngIf="f.height.errors.required">*El nombre es requerido</div>
                <div *ngIf="f.height.errors.minlength">*La estatura debe ser por lo menos de 3 caracteres</div>          
              </div>
            </ion-item>

            <ion-item>
              <ion-label floating>Actividad a la semana</ion-label>
              <ion-select formControlName="activity" id="options-select" [ngClass]="{'is-invalid': submitted && f.activity.errors}">
                  <ion-option value="1">Nada de ejercicio</ion-option>
                  <ion-option value="2">Ejercicio ligero (dos días por semana)</ion-option>
                  <ion-option value="3">Ejercicio moderado (cuatro días por semana)</ion-option>
                  <ion-option value="4">Deporte regular (seis días a la semana)</ion-option>
                  <ion-option value="5">Deportista (diario)</ion-option>
              </ion-select>
            </ion-item>

          </ion-list>

          <!--<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
            <ion-infinite-scroll-content></ion-infinite-scroll-content>
          </ion-infinite-scroll>-->

        </div>          
      </form>
      <button (click)="createUser()" ion-button icon-end>
        Crear usuario
        <ion-icon name="send"></ion-icon>
      </button> 
      <button (click)="goToLogIn()" ion-button icon-end>
        Ir a inicio de sesión        
      </button>  
    </ion-col>
  </ion-row>
</ion-grid>
